import { Class432 } from 'Class432.js';
import { Class41 } from 'Class41.js';
import { Class166 } from 'Class166.js';
import { Class454 } from 'Class454.js';
import { Class465 } from 'Class465.js';
import { Class542 } from 'Class542.js';
import { Class188 } from 'Class188.js';
import { Class209 } from 'Class209.js';
import { Class95 } from 'Class95.js';
import { Class96 } from 'Class96.js';
import { Class86 } from 'Class86.js';
export var Class543 = function () {
    var b = true;
    var a = 6;
    var c = function (e, d, g) {
        this.member2896;
        this.member625;
        this.member8602 = null;
        if (e !== undefined && d !== undefined && g !== undefined) {
            this.member625 = e;
            this.member2896 = d;
            this.member8602 = g;
        } else {
            throw new Error('1665 ');
        }
        this.name = 'null';
        this.member8376 = false;
        this.member8603 = null;
        this.member8604 = -1;
        this.member8605 = null;
        this.member8606 = undefined;
        this.member8607 = undefined;
        this.icon = -1;
        this.member8608 = -1;
        this.member8609 = -1;
        this.member8610 = -1;
        this.params = null;
        this.member8611 = true;
        this.member8612 = -1;
        this.member8613 = 0;
        this.member8614 = null;
        this.member8615 = null;
        this.member8616 = undefined;
        this.member2615 = null;
        this.member2616 = null;
        this.member8617 = null;
        this.member8618 = null;
        this.member8619 = null;
        this.member8620 = null;
        this.member8621 = null;
        this.member8622, this.member8623, this.member8624;
        this.member8625 = 0;
        this.resize = null;
        this.member8626 = 64, this.member8627 = 0;
        this.member8628 = true;
        this.member8629 = 0;
        this.member8630 = 0;
        this.member8631 = null;
        this.member8632 = -1;
        this.member1561 = 1;
        this.member8633 = false;
        this.member8634 = false;
        this.member8635 = false;
        this.member7757 = 32;
        this.member2524 = true;
        this.member7850 = true;
        this.member8636 = true;
        this.member8637 = 0;
        this.member8638 = Math.PI;
        this.member8639 = Class432.member6229;
        this.member8640 = true;
        this.member8641 = -1;
        this.member8642 = null;
        this.member8643 = -1;
        this.member8644 = -1;
        this.member8645 = -1;
        this.member8646 = -1;
        this.member8647 = -1;
        this.member8648 = -1;
        this.member8649 = 0;
        this.member8650 = 0;
        this.member8651 = 255;
        this.member8652 = false;
        this.member8653 = 256, this.member8654 = 256;
        this.member8655 = false;
    };
    c.prototype.member682 = function () {
        return this.member625;
    };
    c.prototype.member8656 = function () {
        return this.member8602;
    };
    c.prototype.getName = function () {
        return this.name;
    };
    c.prototype.member8657 = function (d) {
        if (this.member8603 === null) {
            return -1;
        } else {
            return this.member8603[d];
        }
    };
    c.prototype.member8658 = function () {
        return this.member8609;
    };
    c.prototype.member8659 = function () {
        return this.member8610;
    };
    c.prototype.member8660 = function () {
        return this.member8605;
    };
    c.prototype.member8661 = function () {
        return this.icon;
    };
    c.prototype.member4494 = function () {
        return this.member8611;
    };
    c.prototype.member8662 = function () {
        return this.member8612;
    };
    c.prototype.member8663 = function () {
        return this.member8613;
    };
    c.prototype.member4121 = function () {
        return this.member8608;
    };
    c.prototype.member7615 = function () {
        return this.member8614;
    };
    c.prototype.member7616 = function () {
        return this.member8615;
    };
    c.prototype.member8564 = function () {
        return this.member8606;
    };
    c.prototype.member8565 = function () {
        return this.member8607;
    };
    c.prototype.member8599 = function () {
        return this.member2615;
    };
    c.prototype.member7607 = function () {
        return this.member2616;
    };
    c.prototype.member7650 = function () {
        return this.member8618;
    };
    c.prototype.member7661 = function () {
        return this.member8619;
    };
    c.prototype.member7608 = function () {
        return this.member8620;
    };
    c.prototype.member7651 = function () {
        return this.member8621;
    };
    c.prototype.member8600 = function () {
        return this.resize;
    };
    c.prototype.member8601 = function () {
        return this.member8626;
    };
    c.prototype.member8664 = function () {
        return this.member8630;
    };
    c.prototype.member4470 = function () {
        return this.member8631;
    };
    c.prototype.member8665 = function () {
        return this.member8629;
    };
    c.prototype.member8666 = function () {
        return this.member8632;
    };
    c.prototype.member7795 = function () {
        return this.member1561;
    };
    c.prototype.member8667 = function () {
        return this.member7757;
    };
    c.prototype.member2985 = function () {
        return this.member2524;
    };
    c.prototype.member8668 = function () {
        return this.member8635;
    };
    c.prototype.member8669 = function () {
        return this.member8633;
    };
    c.prototype.member8670 = function () {
        return this.member8634;
    };
    c.prototype.member8671 = function () {
        return this.member8640;
    };
    c.prototype.member8672 = function () {
        return this.member8641;
    };
    c.prototype.member8673 = function () {
        return this.member8645;
    };
    c.prototype.member8674 = function () {
        return this.member8646;
    };
    c.prototype.member8675 = function () {
        return this.member8647;
    };
    c.prototype.member8676 = function () {
        return this.member8648;
    };
    c.prototype.member4500 = function () {
        return this.member8649;
    };
    c.prototype.member4501 = function () {
        return this.member8650;
    };
    c.prototype.member4499 = function () {
        return this.member8651;
    };
    c.prototype.member8677 = function () {
        return this.member8652;
    };
    c.prototype.member8678 = function () {
        return this.member8653;
    };
    c.prototype.member8679 = function () {
        return this.member8654;
    };
    c.prototype.decode = function (g) {
        var e = -1;
        while (true) {
            var d = g.member609();
            if (d === 0) {
                break;
            }
            this.member2932(g, d, e);
            if (g.member1047() > g.getSize()) {
                throw new Error('1666 ' + this.member625 + '1666 ' + d + '1666 ' + e);
            }
            e = d;
        }
    };
    c.prototype.member2932 = function (K, i, F) {
        if (i === 1) {
            var z = K.member609();
            this.member8614 = new Array(z);
            for (var D = 0; D < z; D++) {
                this.member8614[D] = K.member1086();
            }
        } else if (i === 2) {
            this.name = K.member1089();
        } else if (i === 12) {
            this.member1561 = K.member609();
        } else if (i >= 30 && i < 35) {
            this.member8602[i - 30] = K.member1089();
        } else if (i === 39) {
            this.member8627 = K.member1070() * 5;
        } else if (i === 40) {
            var A = K.member609();
            this.member2615 = new Array(A);
            this.member2616 = new Array(A);
            for (var u = 0; u < A; u++) {
                this.member2615[u] = K.member608();
                this.member2616[u] = K.member608();
            }
        } else if (i === 41) {
            var M = K.member609();
            this.member8619 = new Array(M);
            this.member8620 = new Array(M);
            for (var t = 0; t < M; t++) {
                this.member8619[t] = K.member1071();
                this.member8620[t] = K.member1071();
            }
        } else if (i === 42) {
            var e = K.member609();
            this.member8617 = new Array(e);
            for (var m = 0; m < e; m++) {
                this.member8617[m] = K.member1070();
            }
        } else if (i === 44) {
            var J = K.member608();
            var h = 0;
            for (var B = J; B > 0; B = B >> 1) {
                h++;
            }
            this.member8618 = new Array(h);
            var v = 0;
            for (var B = 0; B < h; B++) {
                if ((J & 1 << B) > 0) {
                    this.member8618[B] = v++;
                } else {
                    this.member8618[B] = -1;
                }
            }
        } else if (i === 45) {
            var H = K.member608();
            var I = 0;
            for (var B = H; B > 0; B = B >> 1) {
                I++;
            }
            this.member8621 = new Array(I);
            var v = 0;
            for (var B = 0; B < I; B++) {
                if ((H & 1 << B) > 0) {
                    this.member8621[B] = v++;
                } else {
                    this.member8621[B] = -1;
                }
            }
        } else if (i === 60) {
            this.member8680 = K.member609();
            this.member8615 = new Array(z);
            for (D = 0; D < this.member8680; D++) {
                this.member8615[D] = K.member1086();
            }
        } else if (i === 93) {
            this.member8640 = false;
        } else if (i === 95) {
            this.member8610 = K.member608();
        } else if (i === 97 || i === 98) {
            if (this.resize === null) {
                this.resize = Class41.create();
                this.resize[0] = this.resize[1] = this.resize[2] = 128;
            }
            if (i === 97) {
                this.resize[0] = this.resize[2] = K.member608();
            } else {
                this.resize[1] = K.member608();
            }
        } else if (i === 99) {
            this.member8633 = true;
        } else if (i === 100) {
            this.member8626 = K.member1070() + 64;
        } else if (i === 101) {
            this.member8627 = K.member1070() * 5;
        } else if (i === 102) {
            var E = K.member609();
            var L = 0;
            var B = E;
            while (B !== 0) {
                L++;
                B >>= 1;
            }
            this.member8606 = new Array(L);
            this.member8607 = new Array(L);
            for (var N = 0; N < L; N++) {
                if ((E & 1 << N) === 0) {
                    this.member8606[N] = -1;
                    this.member8607[N] = -1;
                } else {
                    this.member8606[N] = K.member1086();
                    this.member8607[N] = K.member1081();
                }
            }
        } else if (i === 103) {
            this.member7757 = K.member608();
        } else if (i === 106 || i === 118) {
            this.member8644 = K.member608();
            if (this.member8644 === 65535) {
                this.member8644 = -1;
            }
            this.member8643 = K.member608();
            if (this.member8643 === 65535) {
                this.member8643 = -1;
            }
            var d = -1;
            if (i === 118) {
                d = K.member608();
                if (d === 65535) {
                    d = -1;
                }
            }
            var k = K.member609();
            this.member8642 = new Array(k + 2);
            for (var j = 0; j <= k; j++) {
                this.member8642[j] = K.member608();
                if (this.member8642[j] === 65535) {
                    this.member8642[j] = -1;
                }
            }
            this.member8642[k + 1] = d;
        } else if (i === 107) {
            this.member2524 = false;
        } else if (i === 109) {
            this.member7850 = false;
        } else if (i === 111) {
            this.member8636 = false;
        } else if (i === 113) {
            K.member608();
            K.member608();
        } else if (i === 114) {
            K.member1070();
            K.member1070();
        } else if (i === 119) {
            this.member8637 = K.member609();
        } else if (i === 121) {
            this.member8616 = new Array(this.member8614.length);
            var r = K.member609();
            for (var o = 0; o < r; o++) {
                var s = K.member609();
                this.member8616[s] = Class41.create();
                this.member8616[s][0] = K.member1070();
                this.member8616[s][1] = K.member1070();
                this.member8616[s][2] = K.member1070();
            }
        } else if (i === 123) {
            this.member8608 = K.member608();
        } else if (i === 125) {
            this.member8638 = K.member1070();
        } else if (i === 127) {
            this.member8632 = K.member608();
        } else if (i === 128) {
            this.member8639 = K.member609();
        } else if (i === 134) {
            this.member8645 = K.member608();
            if (this.member8645 === 65535) {
                this.member8645 = -1;
            }
            this.member8646 = K.member608();
            if (this.member8646 === 65535) {
                this.member8646 = -1;
            }
            this.member8647 = K.member608();
            if (this.member8647 === 65535) {
                this.member8647 = -1;
            }
            this.member8648 = K.member608();
            if (this.member8648 === 65535) {
                this.member8648 = -1;
            }
            this.member8649 = K.member609();
        } else if (i === 137) {
            this.member8604 = K.member608();
            if (this.member8603 === null) {
                this.member8603 = new Array(a);
                for (var N = 0; N < a; N++) {
                    this.member8603[N] = -1;
                }
            }
            this.member8603[1] = this.member8604;
        } else if (i === 138) {
            this.icon = K.member1086();
        } else if (i === 139) {
            this.member8681 = K.member1086();
        } else if (i === 140) {
            this.member8651 = K.member609();
        } else if (i === 141) {
            this.member8635 = true;
        } else if (i === 142) {
            this.member8641 = K.member608();
        } else if (i === 143) {
            this.member8634 = true;
        } else if (i >= 150 && i < 155) {
            this.member8602[i - 150] = K.member1089();
            if (!this.member2896.member8682()) {
                this.member8602[i - 150] = null;
            }
        } else if (i === 155) {
            this.member8622 = K.member1070();
            this.member8623 = K.member1070();
            this.member8624 = K.member1070();
            this.member8625 = K.member1070();
        } else if (i === 158) {
            this.member8609 = 1;
        } else if (i === 159) {
            this.member8609 = 0;
        } else if (i === 160) {
            var G = K.member609();
            this.member8605 = new Array(G);
            for (var C = 0; C < G; C++) {
                this.member8605[C] = K.member608();
            }
        } else if (i === 162) {
            this.member8652 = true;
        } else if (i === 163) {
            K.member609();
        } else if (i === 164) {
            this.member8653 = K.member608();
            this.member8654 = K.member608();
        } else if (i === 165) {
            this.member8630 = K.member609();
        } else if (i === 168) {
            this.member8650 = K.member609();
        } else if (i === 169) {
            this.member8628 = false;
        } else if (i >= 170 && i < 176) {
            if (this.member8603 === null) {
                this.member8603 = new Array(a);
                for (var N = 0; N < a; N++) {
                    this.member8603[N] = -1;
                }
            }
            this.member8603[i - 170] = K.member608();
        } else if (i === 178) {
            this.member8611 = false;
        } else if (i === 179) {
            this.member8631 = Class166({ member1795: K });
        } else if (i === 180) {
            this.member8629 = K.member609() * 1000 / 50;
        } else if (i === 181) {
            this.member8612 = p.member608();
            this.member8613 = p.member609();
        } else if (i === 182) {
            this.member8655 = true;
        } else if (i === 249) {
            var g = K.member609();
            if (this.params === null) {
                this.params = {};
            }
            for (var q = 0; q < g; q++) {
                var y = K.member609() === 1;
                var x = K.g3();
                if (y) {
                    this.params[x] = K.member1089();
                } else {
                    this.params[x] = K.member1074();
                }
            }
        } else if (false) {
        }
    };
    c.prototype.member2934 = function () {
        if (this.member8614 === null) {
            this.member8614 = new Array(0);
        }
        if (this.member8609 === -1) {
            if (this.member2896.member8683() === Class454.member3713) {
                this.member8609 = 1;
            } else {
                this.member8609 = 0;
            }
        }
    };
    c.prototype.member8684 = function () {
        return this.member8642 !== null;
    };
    c.prototype.member8685 = function () {
        return this.member8655;
    };
    c.prototype.member8686 = function () {
        if (this.member8642 === null || this.member2896.member8687() === null) {
            return this;
        }
        var h = -1;
        if (this.member8644 !== -1) {
            var g = this.member2896.member7539().member7394(this.member8644);
            if (g !== member47) {
                h = this.member2896.member8687().member2950(g);
            }
        } else if (this.member8643 !== -1) {
            var d = this.member2896.member7539().member7393(Class465.member4134, this.member8643);
            if (d !== member47) {
                h = this.member2896.member8687().member2943(d);
            }
        }
        if (h < 0 || h >= this.member8642.length - 1) {
            var e = this.member8642[this.member8642.length - 1];
            if (e !== -1) {
                return this.member2896.list(e);
            } else {
                return undefined;
            }
        }
        if (this.member8642[h] === -1) {
            return undefined;
        }
        return this.member2896.list(this.member8642[h]);
    };
    if (true) {
        c.prototype.member8688 = function (e, n, r, j, o) {
            var k = this.member625;
            if (o !== undefined) {
                k += o.member6725() * Math.pow(2, 16);
            }
            var d = this.member2896.member8689();
            var s = d.find(k);
            if (s === null) {
                var m = this.member2896.member8690().find(k);
                if (m === null) {
                    if (this.member2896.member8690().member906() > 0) {
                        var m = Class542(r, this, o);
                        if (n.member2939(m)) {
                            this.member2896.member8690().put(m, 1, k);
                        }
                        return member47;
                    } else {
                        return member47;
                    }
                } else {
                    var g = m.member2723();
                    if (!g.member2859) {
                        return member47;
                    } else if (!g.member2863) {
                        this.member2896.member8690().remove(k);
                        return member47;
                    } else {
                        var i = m.member2893();
                        var h = undefined;
                        if (i !== member47) {
                            var q = Class188(undefined, undefined, e, undefined, undefined, undefined, i.member680);
                            h = { member2621: q };
                            if (i.member2619 !== undefined) {
                                h.member2619 = Class209(undefined, undefined, i.member2619);
                            }
                            d.put(h, 1, k);
                        }
                        this.member2896.member8690().remove(k);
                        m.member2885();
                        if (h !== undefined) {
                            h.member2621.member563();
                        }
                        return h;
                    }
                }
            } else {
                return s;
            }
        };
        c.prototype.member7546 = function (i, h, d, j) {
            if (this.member8642 !== null) {
                var e = this.member8686();
                if (e === undefined || e === null) {
                    return member47;
                }
                return e.member7546(i, h, d, j);
            }
            var g = this.member8688(i, h, d, this.member8614, j);
            if (g === undefined) {
                return undefined;
            } else if (g !== member47) {
                return g.member2619;
            } else {
                return member47;
            }
        };
        c.prototype.member7545 = function (i, h, d, j) {
            if (this.member8642 !== null) {
                var e = this.member8686();
                if (e === undefined || e === null) {
                    return member47;
                }
                return e.member7545(i, h, d, j);
            }
            var g = this.member8688(i, h, d, this.member8614, j);
            if (g === undefined) {
                return undefined;
            } else if (g !== member47) {
                return g.member2621;
            } else {
                return member47;
            }
        };
        c.prototype.member7544 = function (e) {
            if (this.member8642 !== null) {
                var d = this.member8686();
                if (d === undefined || d === null) {
                    return null;
                }
                return d.member7544(e);
            }
            if (this.member8615 === null && (e === undefined || e.member4486() === undefined)) {
                return undefined;
            }
            return this.member2008(this.member2896.member8691(), this.member8615, e);
        };
        c.prototype.member7543 = function (e, g) {
            if (this.member8642 !== null) {
                var d = this.member8686();
                if (d === undefined || d === null) {
                    return null;
                }
                return d.member7543(e, g);
            }
            if (this.member8615 === null && (g === undefined || g.member4486() === undefined)) {
                return undefined;
            }
            return this.member7075(e, this.member2896.member8692(), this.member2896.member8691(), this.member8615, g);
        };
        c.prototype.member2008 = function (d, e, i) {
            var g = this.member625;
            if (i !== undefined) {
                g += i.member6725() * Math.pow(2, 16);
            }
            var n = d.find(g);
            if (n === null) {
                var j = e;
                if (i !== undefined && i.member4486() !== undefined) {
                    j = i.member4486();
                }
                var m = true;
                for (var k = 0; k < j.length; k++) {
                    if (j[k] != -1) {
                        if (!this.member2896.member7535().member1551(Class95.member810, j[k], 0)) {
                            m = false;
                        }
                    }
                }
                if (!m) {
                    return null;
                }
                var h = new Array(j.length);
                for (k = 0; k < j.length; k++) {
                    if (j[k] != -1) {
                        h[k] = Class209(this.member2896.member7535().getFile(Class95.member810, j[k], 0, Class96.member840));
                        if (h[k].member2463() < 13) {
                            h[k].member2495(Class86.member719);
                        }
                        if (this.member8616 !== undefined && this.member8616[k] !== undefined) {
                            h[k].translate(member8616[k]);
                        }
                    }
                }
                if (j.length === 1) {
                    n = h[0];
                } else {
                    n = Class209(undefined, h);
                }
                if (this.member2615 !== null) {
                    if (i !== undefined && i.member7607() !== undefined) {
                        n.member2497(this.member2615, i.member7607());
                    } else if (this.member8617 !== null) {
                        throw new Error('1667 ');
                    } else if (this.member2616 !== null) {
                        n.member2497(this.member2615, this.member2616);
                    }
                }
                if (this.member8619 !== null) {
                    if (i !== undefined && i.member7608() !== undefined) {
                        n.member2499(this.member8619, i.member7608());
                    } else if (this.member8620 !== null) {
                        n.member2499(this.member8619, this.member8620);
                    }
                }
                if (this.member8626 !== undefined) {
                    n.member2500(this.member8626);
                }
                d.put(n, 1, g);
            }
            return n;
        };
        c.prototype.member7075 = function (j, h, g, m, k) {
            var i = this.member625;
            if (k !== undefined) {
                i += k.member6725() * Math.pow(2, 16);
            }
            var e = h.find(i);
            if (e === null) {
                var d = this.member2008(g, m, k);
                if (d === null) {
                    return null;
                }
                e = Class188(d, undefined, j);
                h.put(e, 1, i);
            }
            return e;
        };
    } else {
    }
    c.prototype.getParam = function (g, e) {
        if (this.params === null) {
            return e;
        }
        var d = this.params[g];
        if (d === undefined) {
            return e;
        } else {
            return d;
        }
    };
    c.prototype.member2941 = function (g, e) {
        if (this.params === null) {
            return e;
        }
        var d = this.params[g];
        if (d === undefined) {
            return e;
        } else {
            return d;
        }
    };
    return function (e, d, g) {
        return new c(e, d, g);
    };
}();