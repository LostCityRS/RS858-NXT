import { Class643 } from 'Class643.js';
import { Class422 } from 'Class422.js';
import { Class647 } from 'Class647.js';
import { Class659 } from 'Class659.js';
import { Class657 } from 'Class657.js';
import { Class619 } from 'Class619.js';
import { Class476 } from 'Class476.js';
import { Class469 } from 'Class469.js';
import { Class660 } from 'Class660.js';
import { Class565 } from 'Class565.js';
import { Class637 } from 'Class637.js';
import { Class629 } from 'Class629.js';
import { Class651 } from 'Class651.js';
import { Class627 } from 'Class627.js';
import { Class529 } from 'Class529.js';
import { Class667 } from 'Class667.js';
import { Class641 } from 'Class641.js';
import { Class559 } from 'Class559.js';
import { Class646 } from 'Class646.js';
import { Class632 } from 'Class632.js';
import { Class658 } from 'Class658.js';
import { Class426 } from 'Class426.js';
import { Class640 } from 'Class640.js';
import { Class650 } from 'Class650.js';
import { Class634 } from 'Class634.js';
import { Class645 } from 'Class645.js';
import { Class668 } from 'Class668.js';
import { Class631 } from 'Class631.js';
import { Class506 } from 'Class506.js';
import { Class572 } from 'Class572.js';
import { Class655 } from 'Class655.js';
import { Class656 } from 'Class656.js';
import { Class662 } from 'Class662.js';
import { Class666 } from 'Class666.js';
import { Class663 } from 'Class663.js';
import { Class661 } from 'Class661.js';
import { Class652 } from 'Class652.js';
import { Class639 } from 'Class639.js';
import { Class597 } from 'Class597.js';
import { Class621 } from 'Class621.js';
import { Class664 } from 'Class664.js';
import { Class653 } from 'Class653.js';
import { Class564 } from 'Class564.js';
import { Class467 } from 'Class467.js';
import { Class574 } from 'Class574.js';
import { Class465 } from 'Class465.js';
import { Class374 } from 'Class374.js';
import { Class421 } from 'Class421.js';
export var Class669 = function () {
    var G = {};
    var E = false;
    var Q;
    var u;
    var D = 200000;
    var v = D * 10;
    var b = 0;
    G.member9624 = function () {
        return b;
    };
    var I;
    var H = new Array(100);
    var n = 0;
    var O = new Array(100);
    var N = new Array(100);
    var L = 0;
    G.member9264 = function () {
        return L;
    };
    var A = new Array(100);
    var M = new Array(100);
    var x = 0;
    var i = new Array(100);
    var S = new Array(100);
    var R = 0;
    var k = new Array(100);
    var z = new Array(100);
    var y = 0;
    var K = new Array(100);
    var g = new Array(100);
    var h = 0;
    var P = function (U) {
        Q = U;
        if (true) {
            u = Q.member7619.member7745();
            Class643.member25(Q);
            Class422.member25(Q, Q.member6116);
            Class647.member25(Q);
            Class659.member25(Q, Q.member6116);
            Class657.member25(Q);
            Class619.member25(Q);
            Class476.member25(Q, u);
            Class469.member25(Q.member2970, u, Q.member7619);
            Class660.member25(Q.member2970, u, Q.member7619);
            Class565.member25(Q, u, Q.member7619, Q.member9752);
            Class637.member25(Q);
            Class629.member25(Q);
            Class651.member25(Q);
            Class627.member25(Q);
        } else {
        }
        var T = Class529;
        Class667.member25(Q);
        Class641.member25(Q, Q.member9752);
        Class559.member25(Q, Q.member6116, Q.member7140);
        Class646.member25(Q);
        Class632.member25(Q.member2970);
        Class658.member25(Q);
        Class426.member25(Q.member2970);
        Class640.member25(Q, Q.member2970, Q.member6116);
        Class650.member25(Q, Q.member2970);
        Class634.member25(Q);
        Class645.member25(Q);
        Class668.member25(Q);
        Class631.member25(Q, Q.member7259);
        Class506.member25(Q, Q.member8845);
        Class572.member25(Q, Q.member7259);
        Class655.member25(Q);
        Class656.member25(Q);
        Class662.member25(Q);
        Class666.member25(Q);
        Class663.member25(Q);
        Class661.member25(Q);
        Class652.member25(Q);
        Class639.member25(Q, Q.member9753);
        Class597.member25(Q, Q.member7137);
        Class621.member25(Q);
        Class664.member25(Q);
        Class653.member25(Q, Q.member7140, Q.member8234);
    };
    G.member25 = P;
    var B = function () {
        Q.member9268.member78();
        var Y = O;
        O = N;
        N = Y;
        var U = L;
        L = 0;
        for (var W = 0; W < U; W++) {
            C(N[W].member9754, N[W].member9755);
        }
        Y = A;
        A = M;
        M = Y;
        U = x;
        x = 0;
        for (var T = 0; T < U; T++) {
            r(M[T]);
        }
        Y = i;
        i = S;
        S = Y;
        U = R;
        R = 0;
        for (var X = 0; X < U; X++) {
            o(S[X].hook, S[X].member9755);
        }
        Y = k;
        k = z;
        U = y;
        y = 0;
        for (var V = 0; V < U; V++) {
            a(z[V].member9756, z[V].member9757, z[V].member9758);
        }
        Y = K;
        K = g;
        U = h;
        h = 0;
        for (var V = 0; V < U; V++) {
            m(K[V].member9756, K[V].member9757, K[V].member9758, K[V].mouseX, K[V].mouseY);
        }
    };
    G.member487 = B;
    var t = function (W, V) {
        for (var U = 0; U < L; U++) {
            var T = O[U].member9754;
            if (T.member7369.member7396() === W && T.member9759 === V) {
                return true;
            }
            if (T.member8887 !== undefined) {
                if (T.member8887.member8826().scriptID === W && T.member8887.member6725() === V) {
                    return true;
                }
            }
        }
        for (var U = 0; U < R; U++) {
            if (i[U].hook.member8826().scriptID === W && i[U].hook.member6725() === V) {
                return true;
            }
        }
        return false;
    };
    G.member9760 = t;
    var s = function (T) {
        if (t(T.member8826().scriptID, T.member6725())) {
            if (false) {
            }
            return;
        }
        o(T, D);
    };
    G.member9276 = s;
    var r = function (T) {
        var U = u.member7439(T, false, Q.member7619.member7440);
        if (U !== null) {
            q(U.member7444());
        } else {
            A[x++] = T;
        }
    };
    G.member7888 = r;
    var q = function (V) {
        for (var T = 0; T < V.length; T++) {
            var Y = V[T];
            var X = Y.member6792();
            if (X !== undefined) {
                var W = X.member6521();
                if (W !== null) {
                    var U = Class564(W, Y.member6725(), Y);
                    o(U, v);
                }
            }
        }
    };
    G.member9761 = q;
    var m = function (Y, U, T, X, V) {
        var Z = Q.member9268.member7431(Y, U, T);
        if (Z === undefined) {
            return;
        }
        if (Z === member47) {
            K[h++] = {
                member9756: Y,
                member9757: U,
                member9758: T,
                mouseX: X,
                mouseY: V
            };
            return;
        }
        var W = e(Z);
        if (Y === Class467.member7413 || Y === Class467.member7415 || Y === Class467.member7414) {
            W.member7371[0] = U;
            W.member7371[1] = X;
            W.member7371[2] = V;
        } else if (Y === Class467.member7408 || Y === Class467.member7409 || Y === Class467.member7410 || Y === Class467.member7411 || Y === Class467.member7412) {
            W.member7371[0] = U;
        }
        J(Z, D, W);
    };
    G.member9418 = m;
    G.member9229 = function (X, V, T, U, Y) {
        var Z = Q.member9268.member7431(X, V, T);
        if (Z === undefined) {
            return;
        }
        if (Z === member47 || L > 0) {
            return;
        }
        var W = e(Z);
        W.member9759 = Y;
        W.member8883 = U;
        if (X === Class467.member7421) {
            W.member7371[0] = Y;
        }
        J(Z, D, W);
    };
    var j = G.member9229;
    G.member9762 = function (X, U, T, V) {
        var Y = Q.member9268.member7431(X, U, T);
        if (Y === undefined) {
            if (false) {
            }
            return;
        }
        if (Y === member47 || L > 0) {
            return;
        }
        var W = e(Y);
        W.member9759 = V.member444();
        W.member8884 = V;
        J(Y, D, W);
    };
    var d = G.member9762;
    G.member9763 = function (W, U, T, Y) {
        var X = Q.member9268.member7431(W, U, T);
        if (X === undefined) {
            if (false) {
            }
            return;
        }
        if (X === member47 || L > 0) {
            return;
        }
        var V = e(X);
        V.member9759 = Y.member9595(0).member9764;
        V.member8886 = Y;
        J(X, D, V);
    };
    var c = G.member9763;
    G.member9765 = function (W, U, T) {
        var X = Q.member9268.member7431(W, U, T);
        if (X === undefined) {
            if (false) {
            }
            return;
        }
        if (X === member47) {
            k[y++] = {
                member9756: W,
                member9757: U,
                member9758: T
            };
            return;
        }
        var V = e(X);
        V.member9759 = -1;
        J(X, D, V);
    };
    var a = G.member9765;
    var o = function (ad, ac) {
        var Z = ad.member8826();
        var ab = Q.member9268.getByID(Z.scriptID);
        if (ab === undefined) {
            if (false) {
            }
            return;
        }
        if (ab === member47 || L > 0) {
            i[R++] = {
                hook: ad,
                member9755: ac
            };
            return;
        }
        var T = e(ab);
        T.member9759 = ad.member6725();
        var aa = 0;
        var Y = 0;
        var U = 0;
        for (var W = 0; W < Z.member6801.length; W++) {
            if (Z.member6801[W].isInteger) {
                var V = Z.member6801[W].value;
                if (V === -2147483647) {
                    V = ad.member8830();
                }
                if (V === -2147483646) {
                    V = ad.member8831();
                }
                if (V === -2147483645) {
                    var X = ad.member8829();
                    if (X === null) {
                        V = -1;
                    } else {
                        V = X.member6721();
                    }
                }
                if (V === -2147483644) {
                    V = ad.member8832();
                }
                if (V === -2147483643) {
                    var X = ad.member8829();
                    if (X === null) {
                        V = -1;
                    } else {
                        V = X.member6722();
                    }
                }
                if (V === -2147483642) {
                    var X = ad.member8833();
                    if (X === null) {
                        V = -1;
                    } else {
                        V = X.member6721();
                    }
                }
                if (V === -2147483641) {
                    var X = ad.member8833();
                    if (X === null) {
                        V = -1;
                    } else {
                        V = X.member6722();
                    }
                }
                if (V === -2147483640) {
                    V = ad.member8834();
                }
                if (V === -2147483639) {
                    V = ad.member8835();
                }
                if (V === -2147483638) {
                    V = ad.member8836();
                }
                if (V === -2147483637) {
                    V = ad.member8837();
                }
                T.member7371[aa++] = V;
            } else if (Z.member6801[W].isObject) {
                var V = Z.member6801[W].value;
                if (V === 'event_opbase') {
                    V = ad.member8838();
                }
                T.member7372[Y++] = V;
            } else if (Z.member6801[W].member9707) {
                var V = Z.member6801[W].value;
                T.member7373[U++] = V;
            } else if (false) {
            }
        }
        T.member8887 = ad;
        T.member8825 = ad.member8839();
        J(ab, ac, T);
    };
    var e = function (T) {
        if (n > 0) {
            var U = H[--n];
            delete H[n];
            U.member7371.length = T.member7400();
            U.member7372.length = T.member7401();
            U.member7373.length = T.member7402();
            return U;
        } else {
            var V = Class574(Q.member7619, T);
            V.member1816 = function () {
                H[n++] = V;
                V.member7371.length = 0;
                V.member7372.length = 0;
                V.member7373.length = 0;
            };
            return V;
        }
    };
    var J = function (U, V, T) {
        T.member6099 = 0;
        T.member6143 = 0;
        T.member7370 = -1;
        T.member7369 = U;
        T.member7382 = U.member7397();
        T.member7383 = U.member7398();
        T.member7384 = U.member7399();
        T.member8879 = 0;
        T.member8888.length = 0;
        T.member8888[Class465.member4134.serialID] = Q.member8687();
        T.member8888[Class465.member7379.serialID] = Q.member6116.member9766();
        T.member8888[Class465.member7380.serialID] = Q.member6116.member9605();
        T.member8888[Class465.member7360.serialID] = Q.member8846.member8445();
        if (T.member8882 !== undefined) {
            T.member8888[Class465.member7381.serialID] = T.member8882;
        }
        if (T.member8883 !== undefined) {
            if (T.member8883.member87() === Class374.member4133) {
                T.member8888[Class465.member4133.serialID] = T.member8883.member7792();
            } else if (T.member8883.member87() === Class374.member4134) {
                T.member8889[Class465.member4134.serialID] = T.member8883.member7792();
            }
        }
        if (true) {
            if (Q.member9767.member9768()) {
                Q.member9767.member9769(T.member7369.member7396(), T.member7369.member6193());
            }
        } else {
        }
        C(T, V);
    };
    var C = function (W, Z) {
        var Y = true;
        try {
            if (!F(W, Z)) {
                Y = false;
            }
        } catch (X) {
            if (false) {
            } else {
                var V = '' + W.member7369.member7396() + ' ';
                for (var T = W.member8879 - 1; T >= 0; T--) {
                    V += ' ' + W.member8880[T].member7369.member7396();
                }
                V += ' ' + I.member4871;
                var U = X.member3492 === undefined ? X : X.member3492;
                if (U !== undefined) {
                    V += ': ' + U + '\n';
                }
                Q.member9770(X, V);
            }
        } finally {
            if (Y) {
                W.member1816();
            }
        }
    };
    var F = function (T, V) {
        var U = false;
        if (true) {
            U = Q.member9767.member9768();
        } else {
        }
        if (U) {
            var W = Date.now();
        }
        b = 0;
        while (true) {
            b++;
            if (b > V) {
                throw new Error('870 ');
            }
            I = T.member7382[++T.member7370];
            if (T.member7383[T.member7370] === 1) {
                T.member7433 = true;
            } else {
                T.member7433 = false;
            }
            if (I === Class421.member5177 && T.member8879 === 0) {
                if (U) {
                    Q.member9767.member9771(T.member7369.member7396(), Date.now() - W);
                }
                return true;
            }
            if (I.member867 === undefined) {
                if (false) {
                }
                return true;
            } else {
                if (U) {
                    Q.member9767.member9772(I.member4871);
                }
                if (I.member867(T)) {
                    T.member7370--;
                    O[L++] = {
                        member9754: T,
                        member9755: V
                    };
                    if (U) {
                        Q.member9767.member9773(T.member7369.member7396());
                    }
                    return false;
                }
            }
        }
        return true;
    };
    return G;
}();